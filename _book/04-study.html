<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>IDR4000 Mappeeksamen - 4&nbsp; Studiedesign</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05-repeated.html" rel="next">
<link href="./03-labreport.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04-study.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Studiedesign</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">IDR4000 Mappeeksamen</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forord</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-reliabilitet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Reliabilitet</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-vitenfil.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Vitenskapsfilosofi</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-labreport.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Labrapport</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-study.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Studiedesign</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-repeated.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Repeated measures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referanser</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Studiedesign</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Jeg har valgt å ta for meg et tema som omhandler intervalltrening og det maksimale oksygenopptaket (VO<sub>2maks</sub>). VO<sub>2maks</sub> kan defineres som kroppens maksimale evne til å ta opp og omsette oksygen, altså den maksimale hastigheten på den aerobe energiomsetningen. Flick’s likning illustrerer de bestemmede faktorene for VO<sub>2maks</sub> som er minuttvolum (MV), arteriell oksygen (aO<sub>2</sub>) og venøs oksygen (vO<sub>2</sub>).</p>
<p>VO<sub>2maks</sub> er assosiert med både helse og prestasjon, og det er derfor et interessant tema som i større eller mindre grad angår alle. Kunnskap knyttet til trening for å forbedre VO<sub>2maks</sub> er relevant både når det kommer til mange former for toppidrett og prestasjon, men også for generell helse blant befolkningen. Intervalltrening er i mange tilfeller en mer tidseffektiv treningsform som for mange kan være lettere å sette av tid til i en hektisk hverdag. Dersom intervalltrening har like gode eller bedre effekt på helsen enn en mer langvarig form for trening, vil det være positivt for folkehelsen da flere har tid til det. Samtidig har vi også en mindre del av befolkningen som er opptatt av prestasjon, og i deres tilfelle er det nyttig å vite hvilken treningsform som belaster kroppen minst og krever minst restitusjon samtidig som man får størst treningseffekt. I en toppidrettshverdag handler det om å optimalisere alle faktorer i hverdagen for best mulig prestasjon og restitusjon. Da er denne formen for kunnskap nyttig da den kan bidra til å strukturere hverdagen og treningen på best mulig måte slik at hver enkelt på best mulig måte kan legge opp treningen etter sine egne behov.</p>
<p>Felles for alle studiene jeg har valgt ut er at de ønsker å undersøke hvilken effekt intervallpreget trening har på VO<sub>2maks</sub> sammenliknet med kontinuerlig arbeid. Studiene har litt ulike tilnærminger til temaet med noe varierende hypoteser eller problemstillinger. <span class="citation" data-cites="daussin2007">(<a href="references.html#ref-daussin2007" role="doc-biblioref"><strong>daussin2007?</strong></a>)</span> undersøkte hypotesen om at kontinuerlig trening og intervalltrening påvirker hhv. perifere og/eller sentrale faktorer. <span class="citation" data-cites="astorino2013">(<a href="references.html#ref-astorino2013" role="doc-biblioref"><strong>astorino2013?</strong></a>)</span> og <span class="citation" data-cites="helgerud2007">(<a href="references.html#ref-helgerud2007" role="doc-biblioref"><strong>helgerud2007?</strong></a>)</span> ønsket å sammenlikne endringer i det maksimale oksygenopptaket som respons på ulike treningsregimer. <span class="citation" data-cites="nybo2010">(<a href="references.html#ref-nybo2010" role="doc-biblioref"><strong>nybo2010?</strong></a>)</span> hadde fokus på effektivitet i treningen og hadde som hensikt å undersøke effekten av høyintensiv intervalltrening sammenliknet med kontinuerlig arbeid og styrketrening på en rekke helseparametere, deriblandt det maksimale oksygenopptaket. <span class="citation" data-cites="matsuo2014">(<a href="references.html#ref-matsuo2014" role="doc-biblioref"><strong>matsuo2014?</strong></a>)</span> hadde på lik linje med Nybo fokus på effektivitet og hadde som hensikt å der han sammenliknet tidseffektiv høyintensiv intervalltrening og kontinuerlig arbeid. I tillegg til dette er samtlige studier, med unntak av Helgerud et al.&nbsp;gjort på utrente. Studiene initierer at de tror intervalltrening utført med høy intensitet vil gi bedre adaptasjoner enn kontinuerlig trening, men de ønsker å undersøke hvor stor den eventuelle forskjellen er samt diskutere årsaksforklaringer.</p>
<p>Flere at studiene har mange likhetstrekk i valg av metode, men det er noen ulikheter. Alle studiene er intervensjonsstudier over en periode på 8-12 (28) uker med pre- og post-tester. <span class="citation" data-cites="daussin2007">(<a href="references.html#ref-daussin2007" role="doc-biblioref"><strong>daussin2007?</strong></a>)</span> har også en detreningsperiode på etterfulgt av en ny intervensjon der gruppene bytter treningsform, og er den eneste av disse fem studiene som har en randomisert crossover design. <span class="citation" data-cites="astorino2013">(<a href="references.html#ref-astorino2013" role="doc-biblioref"><strong>astorino2013?</strong></a>)</span> og <span class="citation" data-cites="nybo2010">(<a href="references.html#ref-nybo2010" role="doc-biblioref"><strong>nybo2010?</strong></a>)</span> har begge en randomisert kontrollert between group design. <span class="citation" data-cites="helgerud2007">(<a href="references.html#ref-helgerud2007" role="doc-biblioref"><strong>helgerud2007?</strong></a>)</span> og <span class="citation" data-cites="matsuo2014">(<a href="references.html#ref-matsuo2014" role="doc-biblioref"><strong>matsuo2014?</strong></a>)</span> hadde en randomisert between group design, altså uten en kontrollgruppe. Det er verdt å nevne at i stuien til <span class="citation" data-cites="matsuo2014">(<a href="references.html#ref-matsuo2014" role="doc-biblioref"><strong>matsuo2014?</strong></a>)</span> er gruppene kun delvis randomisert da gruppene er basert på deltakernes alder og VO<sub>2maks</sub> pre-intervensjon. Hensikten med dette er å øke studiens pålitelighet ved å gjøre gruppene så like som mulig for å sikre at eventuelle effekter av en intervensjon ikke kan tilskrives forskjeller mellom gruppene.</p>
<p>I en crossover studie trenger man ikke like mange deltakere som i de andre studiedesignene fordi hver deltaker gjennomfører begge intervensjonene samtidig som de fungerer som sin egen kontroll. Ulemper ved denne studiedesignen er at den varer over dobbelt så lenge som mange andre intervensjonsstudier, som kan påvirke rekruttering av deltakere og deltakernes motivasjon underveis. Det er også tenkelig at deltakerne kan ha en “carryover” effekt av de førsste intervensjonen som de tar med seg inn i den andre til tross for en detreningsperiode <span class="citation" data-cites="designin2013">(<a href="references.html#ref-designin2013" role="doc-biblioref"><strong>designin2013?</strong></a>)</span>. I studien til <span class="citation" data-cites="daussin2007">(<a href="references.html#ref-daussin2007" role="doc-biblioref"><strong>daussin2007?</strong></a>)</span> er denne perioden satt til 12 uker og man tenker at deltakerne vil komme tilbake til baseline i løpet av denne perioden slik at de begynner med den andre intevrensjonen med “blanke ark”. I de andre studiene trengs det et større utvalg fra populasjonen som videre deles inn i to eller flere grupper der hver gruppe gjennomfører ulik trening. Noen studier har også grupper som er kontrollgrupper som ikke gjennomfører noen for for trening, men som gjennomfører testene. På grunn av måten disse studiene utføres trengs det flere deltakere, hvilket kan være utfordrende å få tak i. Fordelene med en kontrollgruppe er at man kan kontrollere for at det ikke er andre faktorer som kan ha påvirket resultatet. To av de radomiserte between group design studiene har en kontrollgruppe og to har ikke det.</p>
<p>Det er noe varierende utvalg i studiene. <span class="citation" data-cites="daussin2007">(<a href="references.html#ref-daussin2007" role="doc-biblioref"><strong>daussin2007?</strong></a>)</span> har et utvalg på 10 (5 kvinner og 5 menn) i sin crossover studie med en gjennomsnittsalder på 47 år, mens de resterende fire har et utvalg som varierer fra 20-42 med gjennomsnittsaldere sm varierer fra 23-31 år. Det er kun studien til <span class="citation" data-cites="matsuo2014">(<a href="references.html#ref-matsuo2014" role="doc-biblioref"><strong>matsuo2014?</strong></a>)</span> som nevner hvordan deltakerne ble rekruttert, resten av studiene nevner ikke dette. I denne studien ble deltakerne rekrutert via lokal markedsføring på universitetet og i lokalavisa. Fordelen med å inkludere hvordan deltakerne ble rekruttert er blant annet at det gir et mer helhetlig bilde hos leseren om hvordan utvalget ser ut og om de selv har oppsøkt prosjektet eller om en leder av prosjektet har oppsøkt deltakerne. Alle studiene foruten studien til <span class="citation" data-cites="helgerud2007">(<a href="references.html#ref-helgerud2007" role="doc-biblioref"><strong>helgerud2007?</strong></a>)</span> som har moderat trente personer, har friske men utrente deltakere. Det er også noe vaiasjon i kjønnsfordelingen. <span class="citation" data-cites="daussin2007">(<a href="references.html#ref-daussin2007" role="doc-biblioref"><strong>daussin2007?</strong></a>)</span> hadde både kvinnelige og mannlige deltakere (5 + 5), <span class="citation" data-cites="nybo2010">(<a href="references.html#ref-nybo2010" role="doc-biblioref"><strong>nybo2010?</strong></a>)</span>, <span class="citation" data-cites="matsuo2014">(<a href="references.html#ref-matsuo2014" role="doc-biblioref"><strong>matsuo2014?</strong></a>)</span> og <span class="citation" data-cites="helgerud2007">(<a href="references.html#ref-helgerud2007" role="doc-biblioref"><strong>helgerud2007?</strong></a>)</span> hadde kunn menn, mens <span class="citation" data-cites="astorino2013">(<a href="references.html#ref-astorino2013" role="doc-biblioref"><strong>astorino2013?</strong></a>)</span> kun hadde kvinnelige deltakere. Det er en kjent sak at det gjøres mer forskning på menn enn på kvinner, og det er derfor fint at noen studier også kan representere kvinner. Hvorvidt utvalget representerer den generelle befolkningen kan diskuteres, men utvalget representerer i det minste den gruppen av befolkningen med de deltakerkarakteristikkene utvalget har.</p>
<p>Hver av studiene har valgt seg ut en rekke tester de utførte både pre og post-intervensjonen. Felles for alle er at de gjennomflører VO<sub>2maks</sub>-tester både pre og post intervensjon. I tillegg til dette har flere av studiene en rekke andre tester som f.eks. laktatterskel, maks watt, maksimal arteriovenøs differanse og kardiovaskulære tester som blodtrykk og hjertefrekvens i hvile. <span class="citation" data-cites="astorino2013">(<a href="references.html#ref-astorino2013" role="doc-biblioref"><strong>astorino2013?</strong></a>)</span> er den eneste av disse studiene som gjennomførte tester underveis i intervensjonen. Dette ble gjort hver tredje uke for å regne ut hvilken intensitet deltakerne skulle trene på.</p>
<p>Til slutt samler studiene resultatene etter intervensjonen er gjennomført. <span class="citation" data-cites="astorino2013">(<a href="references.html#ref-astorino2013" role="doc-biblioref"><strong>astorino2013?</strong></a>)</span> brukte en two way analysis of variance with repeated emasures for å undersøke forskjeller i variablene som respons på trening. De resterende studiene har brukt en two way ANOVA with repeated measures for å undersøke forskjellene mellom gruppene og resultatene deres. <span class="citation" data-cites="matsuo2014">(<a href="references.html#ref-matsuo2014" role="doc-biblioref"><strong>matsuo2014?</strong></a>)</span> har også gjort en power test for å undesøke hvor stor sample size de må ha for å øke den statistiske styrken i studien sin ved at sannsynligheten for at de resultatene de får er overførbare til dresten av befolkningen. De brukte en priori power test med en alpha error rate på 0.017 og en statistisk power test med en power på 80% kom de frem til at de måtte ha minst 11 deltakere i hver gruppe. De rekrutterte derfor litt flere enn dette da de tok høyde for at noen muligens ville droppe ut underveis. <span class="citation" data-cites="astorino2013">(<a href="references.html#ref-astorino2013" role="doc-biblioref"><strong>astorino2013?</strong></a>)</span> brukte en one way ANOVA til å undersøke forskjeller i deltakerkarakteristikker ved baseline mellom gruppene for å ha tatt høyde for dette når resultatene skal analyseres.</p>
<p>Alle studiene har kommet fram til at trening med høyere intensitet er bedre for å øke VO<sub>2maks</sub> enn trening med lavere intensitet. Gruppene som ha trent med lavere intensitet har i de fleste tilfellene også økt sitt maksimale oksygenopptak, men gruppene med høyere intensitet har økt signifikant mer. Det betyr ikke nødvendigvis at den høyeste intensiteten er best. I studien til <span class="citation" data-cites="matsuo2014">(<a href="references.html#ref-matsuo2014" role="doc-biblioref"><strong>matsuo2014?</strong></a>)</span> fikk gruppen som trente &lt;90% VO<sub>2maks</sub> (HIAT) en større forbedring enn gruppen som trente på 120% VO<sub>2maks</sub> (SIT). Arbeidstiden til HIAT gruppen var 13 min mens den i SIT-gruppen kun var 5 min, hvilket kan ha spilt en rolle i resultatet. Det er nok lettere å opprettholde intensiteten HIAT-gruppen hadde over lengre tid, som er essensielt for å oppnå de adaptasjonene som er assosiert med et økt maksimalt oksygenopptak. De resterende studiene er enige i at intervalltrening med høy intensitet er å foretrekke fremfor både kontinuerlig trening og intervaller med lavere intensitet for å forbedre VO<sub>2maks</sub> både hos friske utrente menn og kvinner, og hos moderat trente menn som har de samme fysike trekkene som gruppene som har utført nettopp disse studiene.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03-labreport.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Labrapport</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05-repeated.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Repeated measures</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>